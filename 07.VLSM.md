# 1. VLSM(네트워크 분할 방법)

- VLSM: Variable Length Subnet Mask<br>
- 분할 서브넷 크기가 가변적임<br>
- 최대 수용 컴퓨터의 수가 다름<br>
- 서브넷 마스크가 서로 다름<br>
- 서브넷 방식보다 네트워크 주소를 효율적으로 사용함<br>

## 1. VLSM 절차

- 할당 안한 나머지 서브넷 중 가장 큰 서브넷 선택하여 2번 동작<br>
  계속

## 2. VLSM 예제

- 가, 나, 다 3개의 부서<br>
- 컴퓨터가 각각 120, 60, 14개씩 존재<br>
- 가와 나,다가 멀리 떨어짐<br>
- 할당하는 네트워크 주소: 192.168.1.0 -> C 클래스 주소임<br>

## 3. 필요한 네트워크 수 산정

- 라우터 연결부분도 하나의 독립된 네트워크이므로 총 4개의 네트워크가 필요함<br>

## 4. 네트워크 설계

- 1 비트를 사용하여 2개의 서브넷이 나옴.<br>
- 윗 부분의 반을 사용할 것임<br>
- 총 네트워크 비트 수 : 25(24 + 1)<br>

- 가 네트워크 설계
  - 서브넷 마스크: 255.255.255.128(1 0000000)<br>
  - 네트워크 주소: 192.168.1.0(0 0000000)<br>
  - 브로드캐스트 주소: 192.168.1.127(0 1111111)<br>
- 사용 가능 IP: 192.168.1.1 - 192.168.1.126 (126개)<br>
- 라우터 주소: 192.168.1.1(처음 주소 사용)<br>
- 컴퓨터 할당: 192.168.1.2 - 192.168.1.121(120개)<br>

- 나 네트워크 설계<br>
- 나머지 아랫부분의 반에서 2비트로 나눈 처음 부분 사용<br>
- 총 네트워크 비트 수: 26(24 + 2)<br>
  - 서브넷 마스크: 255.255.255.192(11 000000)<br>
  - 네트워크 주소: 192.168.1.128(10 000000)<br>
  - 브로드캐스트 주소: 192.168.1.191(10 111111)<br>
- 사용 가능 IP : 192.168.1.129 – 192.168.1.191(62개)<br>
- 라우터 주소 : 192.168.1.129(처음 주소 사용)<br>
- 컴퓨터 할당 : 192.168.1.130 - 192.168.1.189(60개)<br>

- 다 네트워크 설계<br>
- 나머지 중에서 3비트로 나눈 처음 부분 사용: 110<br>
- 4비트로 나누는 것이 안되는 이유는 라우터 주소도 필요해서 총 15개의 주소가 필요하기 때문임.<br>
- 총 네트워크 비트 수: 27(24 + 3)<br>
  - 서브넷 마스크: 255.255.255.224(111 00000)<br>
  - 네트워크 주소: 192.168.1.192 (110 000000)<br>
  - 브로드캐스트 주소: 192.168.1.223 (110 11111)<br>
- 사용 가능 IP : 192.168.1.193 – 192.168.1.222(30개)<br>
- 라우터 주소 : 192.168.1.193(처음 주소 사용)<br>
- 컴퓨터 할당 : 192.168.1.194 - 192.168.1.207(14개)<br>

- 라 네트워크 설계<br>
- 2개의 라우터와 연결 되어있으므로 2개의 라우터 주소가 필요함<br>
  -> 나머지 부분을 사용하면 됨<br>
- 총 네트워크 비트 수: 27(24 + 3)<br>
  - 서브넷 마스크: 255.255.255.224(111 00000)<br>
  - 네트워크 주소: 192.168.1.224 (111 00000)<br>
  - 브로드캐스트 주소: 192.168.1.255 (111 11111)<br>
- 사용 가능 IP : 192.168.1.225 – 192.168.1.254(30개)<br>
- 라우터 주소 : 192.168.1.225, 192.168.1.226(2개사용)<br>
- 컴퓨터 할당 : 없음<br>

## 5. VLSM 결과

-> 다음에 다시 배움<br>

# 2. Supernetting (subnetting의 역과 동일함.)

- Address Summarization(Aggregation)<br>
  -192.168.0.0/255.255.252.0 (네트워크 비트가 22비트) 은 4개를 하나로 표현함<br>

  192.168.0.0/255.255.255.0 (네트워크 비트가 24비트)<br>
  192.168.1.0/255.255.255.0<br>
  192.168.2.0/255.255.255.0<br>
  192.168.3.0/255.255.255.0<br>

# 3. CIDR

- Classless Inter-Domain Routing<br><br>

  - 넷마스크를 클래스에 무관하게 설정<br>
  - Classful Routing과 대비<br>
    Classful에서는 넷마스크는 클래스에 종속(A클래스는 8비트, B클래스는 16비트, C클래스는 24비트)<br>
  - Subnetting/VLSM과 Supernetting의 조합한 것이 CIDR이 됨<br>

- CIDR 표기법<br>
  - 넷마스크를 네트워크 주소 뒤에 비트수로 표기<br>
  - 간단하고 이해하기 쉬움<br>
  - 10.1.20.0/255.255.252.0 -> 10.1.20.0/26<br>
  - 192.168.0.0/255.255.252.0 -> 192.168.0.0/26<br><br>

홉 수 : 몇개의 라우터를 거쳐야 목적지까지 가는가<br><br>

- 1. CIDR 활용 : 라우팅 테이블의 간소화<br>
- 2. Longest Prefix Match(LPM) algorithm<br>
     한 네트워크가 빠져도 aggregation할 수 있음.<br>
     패킷을 보낼때 라우팅 테이블에서 prefix가 긴 주소(더 작은 네트워크)부터 매칭 검사함<br>
